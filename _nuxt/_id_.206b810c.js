import{_ as E}from"./BaseHeading.vue.367aa72a.js";import{_ as F}from"./BaseParagraph.vue.cd94dabc.js";import{_ as M}from"./BaseInput.vue.ac862dc4.js";import{_ as P}from"./BaseButton.2b54a2c4.js";import{_ as $}from"./BaseButtonClose.vue.2b3e83ce.js";import{_ as z}from"./TairoModal.vue.02bd1e2c.js";import{u as W}from"./toaster.29c7b5e4.js";import{d as H,aw as J,r as l,z as L,y as U,L as R,o as q,a as Q,i as e,e as g,b as n,w as d,j as _,t as G,Q as k,H as K}from"./entry.4f1f4e90.js";import"./index.4e5993e3.js";import{L as X}from"./index.92423b2e.js";import"./buttons.3ff0afbe.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./nuxt-link.8273492f.js";import"./Icon.cd622b41.js";import"./index.a63dc9f9.js";import"./input-id.477f8fd9.js";import"./use-outside-click.eb7af496.js";import"./transition.d9dd8cdc.js";const Y={class:"bg-muted-100 dark:bg-muted-900 relative min-h-screen w-full overflow-hidden px-4"},Z=e("div",{class:"mx-auto flex h-32 w-full max-w-6xl items-center justify-between px-4"},null,-1),ee={class:"flex w-full items-center justify-center"},te={class:"grid md:flex justify-between items-center relative mx-auto w-full max-w-2xl shadow-muted-400 shadow shadow-5xl rounded bg-muted-50 dark:bg-muted-700/70 p-4 gap-3"},oe={class:"w-full shrink-0 sm:w-60"},ae=["src","alt"],se={class:"me-auto ms-auto mt-4 w-full"},le={class:"me-auto ms-auto mt-4 w-full max-w-md",novalidate:""},ne={class:"text-center"},re={class:"text-purple-400 font-bold"},ce={class:""},de={class:"mb-4 space-y-4"},ie=e("div",{class:"mb-6"},[e("div",{class:"mt-6 flex items-center justify-between"})],-1),ue={class:"mb-6 flex items-center justify-center"},me={class:"px-3"},pe={class:"flex w-full items-center justify-between p-4 md:p-6"},fe=e("h3",{class:"font-heading text-muted-900 text-lg font-medium leading-6 dark:text-white"}," Enter your Passcode to confirm ",-1),_e=e("div",{class:"p-4 md:p-6"},[e("div",{class:"mx-auto w-full max-w-xs text-center"})],-1),ve={class:"p-4 md:p-6"},he={class:"flex gap-x-2"},Me=H({__name:"[id]",setup(we){const D=J(),v=W(),A=new X,y=l("");l(""),l("");const p=l(0),h=l("");var f=l("");l("");var S=l("");function V(a){try{navigator.clipboard.writeText(a)}catch(t){console.error("Unable to copy text: ",t)}}const{id:N}=D.currentRoute.value.params,w=l([]);var s=l({nftAmount:"",nft:{attributes:"",description:"",image:"",name:"",propertyId:"",tokenEnd:"",tokenStart:""}});const x=l(!1);function b(){x.value=!1}function T(){x.value=!0}async function C(a,t){const c=new Headers;c.append("Content-Type","application/json");const u=JSON.stringify({encryptedData:a,key:t});console.log("raw war",u),await fetch("https://cyto-node.azurewebsites.net/encryption/decrypt",{method:"POST",headers:c,body:u}).then(r=>r.text()).then(r=>{const o=JSON.parse(r);return console.log("grace",o),console.log("encryptedData.value",o.decryptedData),S.value=o.decryptedData,o.decryptedData}).catch(r=>console.error(r))}async function B(){try{const a=localStorage.getItem("nftData"),c=(a?JSON.parse(a):[])[N];c?(s.value=c,console.log("Selected NFT:",s.value)):console.log("NFT with specified slug not found.")}catch(a){console.error("Error retrieving or parsing NFT data:",a)}}L(s,(a,t)=>{console.log("selectedNft updated:",a)});async function I(){w.value=localStorage.getItem("nftData")||[],w.value=JSON.parse(w.value),s.value=w.value[N],y.value=localStorage.getItem("gen_wallet_Name")||"";var t=localStorage.getItem("wallet_address");const c=localStorage.getItem("encrytedDataPhrase")||"";await C(c,f.value),s.value.nftAmount;var u=s.value.nft.tokenStart,m=s.value.nft.tokenEnd,r=s.value.nft.propertyId;try{A.transferNft(y.value,S.value,r,u,m,p.value,t,h.value).then(o=>{o.successful?(console.log(o.data),v.clearAll(),v.show({title:"SDA sent successfully, Detials copied",message:o.data,color:"success",icon:"ph:check",closable:!0}),V("https://www.pteri.org/LTCTransaction?id="+o.data),b(),y.value="",p.value=0):(v.clearAll(),v.show({title:"Error",message:o.message,color:"danger",icon:"ph:user",closable:!0}))})}catch(o){console.log(o)}}return U(()=>{B(),console.log(p.value,h.value)}),(a,t)=>{const c=E,u=F,m=M,r=R("Field"),o=P,j=$,O=z;return q(),Q("div",Y,[Z,e("div",ee,[e("div",te,[e("div",oe,[e("img",{src:g(s).nft.image,alt:g(s).nft.name,class:"rounded-lg lg:w-60 lg:h-60"},null,8,ae)]),e("div",se,[e("form",le,[e("div",ne,[n(c,{as:"h2",size:"3xl",weight:"medium"},{default:d(()=>[_(" Send ")]),_:1}),n(u,{size:"md",class:"text-muted-400 mb-6"},{default:d(()=>[_(" Enter "),e("span",re,G(g(s).nft.name),1),_(" amount you want to send! ")]),_:1})]),e("div",ce,[e("div",de,[n(r,{name:"Amount"},{default:d(()=>[n(m,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=i=>p.value=i),type:"text",label:"Amount",placeholder:"Amount",classes:{input:"h-12"},icon:"cryptocurrency:ltc"},null,8,["modelValue"])]),_:1}),n(r,{name:"Wallet Address"},{default:d(()=>[n(m,{modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=i=>h.value=i),type:"text",label:"Wallet Address",placeholder:"Wallet Address",classes:{input:"h-12"},icon:"solar:copy-bold"},null,8,["modelValue"])]),_:1})]),ie,e("div",ue,[n(o,{onClick:t[2]||(t[2]=k(i=>T(),["prevent"])),type:"submit",color:"primary",class:"!h-12 w-36"},{default:d(()=>[_(" Confirm ")]),_:1})]),n(O,{open:x.value,size:"sm",onClose:b},{header:d(()=>[e("div",me,[e("div",pe,[fe,n(j,{onClick:b})]),n(m,{label:"Passcode",modelValue:g(f),"onUpdate:modelValue":t[3]||(t[3]=i=>K(f)?f.value=i:f=i),type:"password",class:"",icon:"uil:padlock",shape:"curved",classes:{wrapper:"w-full",input:"!h-12 !ps-12",icon:"!h-12 !w-12"}},null,8,["modelValue"])])]),footer:d(()=>[e("div",ve,[e("div",he,[n(o,{color:"primary",flavor:"solid",onClick:t[4]||(t[4]=k(i=>I(),["prevent"]))},{default:d(()=>[_(" Send ")]),_:1})])])]),default:d(()=>[_e]),_:1},8,["open"])])])])])])])}}});export{Me as default};
