import{_ as Q}from"./BaseHeading.vue.367aa72a.js";import{_ as H}from"./BaseParagraph.vue.cd94dabc.js";import{_ as $}from"./BaseInput.vue.ac862dc4.js";import{_ as J}from"./BaseButton.2b54a2c4.js";import{_ as Y}from"./BaseButtonClose.vue.2b3e83ce.js";import{_ as K}from"./TairoModal.vue.02bd1e2c.js";import{d as G,r as l,c as X,P as Z,y as ee,o as te,a as oe,i as o,Q as k,b as n,w as i,j as h,e as r,H as S}from"./entry.4f1f4e90.js";import{u as ae}from"./toaster.29c7b5e4.js";import{z as b,u as se,F as E,t as le}from"./vee-validate.esm.6dd2f5e9.js";import{L as ne}from"./index.92423b2e.js";import"./buttons.3ff0afbe.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./nuxt-link.8273492f.js";import"./Icon.cd622b41.js";import"./index.a63dc9f9.js";import"./input-id.477f8fd9.js";import"./use-outside-click.eb7af496.js";import"./transition.d9dd8cdc.js";const re={class:"bg-muted-100 dark:bg-muted-900 relative min-h-screen w-full overflow-hidden px-4"},ie=o("div",{class:"mx-auto flex h-32 w-full max-w-6xl items-center justify-between px-4"},null,-1),ce={class:"flex w-full items-center justify-center"},de={class:"relative mx-auto w-full max-w-2xl shadow-muted-400 shadow shadow-5xl rounded bg-muted-50 dark:bg-muted-700/70"},me={class:"me-auto ms-auto mt-4 w-full"},ue={class:"text-center"},pe={class:"px-8 py-4"},fe={class:"mb-4 space-y-4"},_e={class:"mb-6 flex items-center justify-center"},we={class:"px-3"},ve={class:"flex w-full items-center justify-between p-4 md:p-6"},ge=o("h3",{class:"font-heading text-muted-900 text-lg font-medium leading-6 dark:text-white"}," Enter your Passcode to confirm ",-1),he=o("div",{class:"p-4 md:p-6"},[o("div",{class:"mx-auto w-full max-w-xs text-center"})],-1),be={class:"p-4 md:p-6"},ye={class:"flex gap-x-2"},$e=G({__name:"[id]",setup(xe){const I=[{id:1,name:"Litecoin",text:"LPsvd8n76fGmHZVYNkM7cj2idAKJQg4KhU",media:"/img/illustrations/tokens/litecoin-ltc-logo.svg",balance:"30.45",publicadd:"02e57cc430dd0ebada066cfa57bac138af2e42406c3d8c77579ac453a683a0f606"},{id:2,name:"Bitcoin",text:"18FEpj7sfYx2aAjL9uwP8VL29VUn8FMPmA",media:"/img/illustrations/tokens/bitocoin-btc.svg",balance:"2",publicadd:"03bf7b204a226c20ea1f06fd30a3bb8fb2cc9d06c5e662f3dc58d4660e543c2b64"},{id:3,name:"Binance USD",text:"bnb15hggjjda3pwdqqd76pnrnpddpaqx98dkapryxt",media:"/img/illustrations/tokens/binance-usd.svg",balance:"5.45"}];function P(t){try{navigator.clipboard.writeText(t)}catch(e){console.error("Unable to copy text: ",e)}}l(I[0]);const V={EMAIL_REQUIRED:"A valid email is required",PASSWORD_REQUIRED:"A password is required"},j=b.object({email:b.string().email(V.EMAIL_REQUIRED),password:b.string().min(1,V.PASSWORD_REQUIRED),trustDevice:b.boolean()}),B=le(j),R=X(()=>({email:"",password:"",trustDevice:!1})),{handleSubmit:U,isSubmitting:F,setFieldError:M,meta:ke,values:Se,errors:Ve,resetForm:Te,setFieldValue:Ae,setErrors:De}=se({validationSchema:B,initialValues:R});Z();const w=l(!1),u=ae();var p=l(),f=l(""),v=l("");l(!1),l("");var y=l(""),x=l(!1),g=l(""),T=l("");function A(){x.value=!1}function N(){x.value=!0}const O=new ne;function L(t){u.clearAll(),u.show({title:"Sent! Your Transaction ID has been copied Automatically",message:t,color:"success",icon:"ph:check",closable:!0})}function C(t){u.clearAll(),u.show({title:"Error",message:t,color:"danger",icon:"ph:user",closable:!0})}async function q(t,e){var c=new Headers;c.append("Content-Type","application/json");const d=JSON.stringify({encryptedData:t,key:e});console.log("raw war",d),await fetch("https://cyto-node.azurewebsites.net/encryption/decrypt",{method:"POST",headers:c,body:d}).then(a=>a.text()).then(a=>{const _=JSON.parse(a);return console.log("grace",_),console.log("encryptedData.value",_.decryptedData),y.value=_.decryptedData,_.decryptedData}).catch(a=>console.error(a))}async function W(){w.value=!0;const t=localStorage.getItem("wallet_address"),e=localStorage.getItem("gen_wallet_Name"),c=localStorage.getItem("encrytedDataPhrase");v.value=localStorage.getItem("property_id");const d=f.value,m=p.value;await q(c,g.value),console.log("ecrypt --->",y.value),console.log("wallet --->",v),console.log("wallet --->",t),console.log("wallet --->",d),console.log("wallet --->",e),console.log("wallet --->",m),O.sendToken(e,y.value,m,v,t,d).then(a=>{a.successful?(w.value=!1,L(a.data),P(a.data),p.value=0,f.value=""):(w.value=!1,C(a.message))})}ee(()=>{const t=localStorage.getItem("property_id"),e=localStorage.getItem("tokenName");v=t,T=e,console.log(v,T)});const D=U(async t=>{console.log("auth-success",t);try{await new Promise((e,c)=>{t.password!=="password"&&setTimeout(()=>c(new Error("Fake backend validation error")),2e3),setTimeout(e,4e3)}),u.clearAll(),u.show({title:"Success",message:"Welcome back!",color:"success",icon:"ph:user-circle-fill",closable:!0})}catch(e){e.message==="Fake backend validation error"&&M("password",'Invalid credentials (use "password")');return}window.location.href="/dashboards"});return(t,e)=>{const c=Q,d=H,m=$,a=J,_=Y,z=K;return te(),oe("div",re,[ie,o("div",ce,[o("div",de,[o("div",me,[o("form",{method:"POST",action:"",onSubmit:e[5]||(e[5]=k((...s)=>r(D)&&r(D)(...s),["prevent"])),class:"me-auto ms-auto mt-4 w-full max-w-md",novalidate:""},[o("div",ue,[n(c,{as:"h2",size:"3xl",weight:"medium"},{default:i(()=>[h(" Send Tokens ")]),_:1}),n(d,{size:"sm",class:"text-muted-400 mb-6"},{default:i(()=>[h(" Enter Token amount you want to send and the reciever's wallet address ")]),_:1})]),o("div",pe,[o("div",fe,[n(r(E),{name:"Amount"},{default:i(()=>[n(m,{modelValue:r(p),"onUpdate:modelValue":e[0]||(e[0]=s=>S(p)?p.value=s:p=s),type:"text",label:"Amount",placeholder:"Amount",classes:{input:"h-12",icon:"flex items-center"},icon:"iconoir:coins"},null,8,["modelValue"])]),_:1}),n(r(E),{name:"WalletAddress"},{default:i(()=>[n(m,{modelValue:r(f),"onUpdate:modelValue":e[1]||(e[1]=s=>S(f)?f.value=s:f=s),type:"text",label:"Wallet Address",placeholder:"Wallet Address",classes:{input:"h-12",icon:"flex items-center"},icon:"solar:copy-bold"},null,8,["modelValue"])]),_:1})]),o("div",_e,[n(a,{onClick:e[2]||(e[2]=k(s=>N(),["prevent"])),disabled:r(F),loading:r(w),type:"submit",color:"primary",class:"!h-12 w-36"},{default:i(()=>[h(" Send Tokens ")]),_:1},8,["disabled","loading"])]),n(z,{open:r(x),size:"sm",onClose:A},{header:i(()=>[o("div",we,[o("div",ve,[ge,n(_,{onClick:A})]),n(m,{label:"Passcode",modelValue:r(g),"onUpdate:modelValue":e[3]||(e[3]=s=>S(g)?g.value=s:g=s),type:"password",class:"",icon:"uil:padlock",shape:"curved",classes:{wrapper:"w-full",input:"!h-12 !ps-12",icon:"!h-12 !w-12"}},null,8,["modelValue"])])]),footer:i(()=>[o("div",be,[o("div",ye,[n(a,{loading:r(w),color:"primary",flavor:"solid",onClick:e[4]||(e[4]=k(s=>W(),["prevent"]))},{default:i(()=>[h(" Send ")]),_:1},8,["loading"])])])]),default:i(()=>[he]),_:1},8,["open"])])],32)])])])])}}});export{$e as default};
