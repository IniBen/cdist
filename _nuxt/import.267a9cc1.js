import{_ as le}from"./kakrlogo.e972311f.js";import{_ as se}from"./nuxt-link.8273492f.js";import{_ as ne}from"./BaseThemeToggle.vue.b294a058.js";import{_ as re}from"./BaseButton.2b54a2c4.js";import{_ as ce}from"./TairoCheckAnimated.9e4fd6a2.js";import ie from"./Icon.cd622b41.js";import{_ as ue}from"./BaseIconBox.vue.1d099b02.js";import{_ as de}from"./BaseHeading.vue.367aa72a.js";import{_ as me}from"./BaseParagraph.vue.cd94dabc.js";import{_ as pe}from"./BaseInput.vue.ac862dc4.js";import{d as _e,P as fe,r as t,X as ve,c as ge,o as n,a as f,i as a,b as l,w as r,j as d,f as v,F as R,G as H,Q as T,h as z,e as J,H as q,J as M,K as F}from"./entry.4f1f4e90.js";import{u as he}from"./fetch.a8a64e48.js";import{u as xe}from"./toaster.29c7b5e4.js";import{L as we}from"./index.92423b2e.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./buttons.3ff0afbe.js";import"./index.a63dc9f9.js";import"./input-id.477f8fd9.js";const ye={class:"bg-muted-100 dark:bg-muted-900 min-h-screen"},be={class:"mx-auto flex h-16 w-full max-w-7xl items-center justify-between px-4"},ke={class:"flex items-center gap-4"},Se={key:0},Ie={class:"mx-auto max-w-4xl"},je={class:"flex h-full w-full flex-col lg:shadow shadow-3xl shadow-gray-700"},Te={class:"pointer-events-none flex w-full items-center justify-center pt-2"},Ce={class:"flex h-16 items-center justify-center"},Ne={class:"pt-4 text-center mb-2"},Ve={class:"text-muted-800 dark:text-muted-100 mx-auto flex w-72 lg:w-96 flex-col rounded-md text-center border border-gray-700 p-3 mb-12"},Be={class:"flex flex-wrap w-full justify-center gap-6 text-sm"},Pe=["onUpdate:modelValue"],Ue={class:"flex flex-wrap w-full justify-center gap-6 text-sm"},Ae=["onUpdate:modelValue"],De={class:"mt-8"},$e={key:1,class:"w-full"},ze={class:"flex h-full w-full flex-col"},Le={class:"pointer-events-none flex w-full items-center justify-center pt-8"},Oe={class:"pt-4 text-center"},Ee={class:"mx-auto w-full max-w-sm py-6 space-y-3"},Re={class:"mx-auto flex flex-col items-center"},He={key:2,class:"w-full"},Je={class:"flex h-full w-full flex-col"},qe={class:"pointer-events-none flex w-full items-center justify-center pt-8"},Me={class:"pt-4 text-center"},Fe={class:"mx-auto flex w-full max-w-sm py-6 space-y-3"},We={class:"mx-auto flex flex-col items-center"},pt=_e({__name:"import",setup(Ge){fe();const p=t(!1),x=t("email_address"),s=t(1);t(12);const W=t([]);t([]);const G=t("1234");t(!0),t(""),t(0),t("cyto wallet address");const C=new we,w=xe();t(""),t([]),t("");var N=t("");t("");var V=t(""),m=t(""),g=t(""),I=t(""),L=t("");const b=t(Array(12).fill("")),k=t(Array(2).fill(""));t("");const B=t("");ve();function Q(){const o=window.location.href,e=new URL(o),c=`${e.protocol}//${e.host}`;window.location.href=c}async function X(){m.value===g.value?(console.log("user=====",m.value),console.log("conffirmed=====",g.value),await oe(),w.clearAll(),w.show({title:"Pin",message:"confirmed",color:"success",icon:"ph:check",closable:!0}),Z()):(w.clearAll(),w.show({title:"Pin",message:"Incorrect",color:"danger",icon:"user-circle-fill",closable:!0}),P(2),m.value="",g.value="")}async function K(o){try{const e=localStorage.getItem("gen_wallet_Name");console.log("chekky",e),await C.walletDetails(e).then(c=>{c.message.includes("Requested wallet does not exist or is not loaded")?C.loadWallet(e).then(y=>{console.log("this is the response of a loaded wallet ",y.message),o()}):o()}).catch(()=>{console.log("catch error")})}catch(e){console.log(e)}}async function Y(o,e){console.log("this guy");const c=new Headers;c.append("Content-Type","application/json"),c.append("Usev2","true");const y=JSON.stringify({data:o,key:e});fetch("https://cyto-node.azurewebsites.net/encryption/encrypt",{method:"POST",headers:c,body:y}).then(i=>i.text()).then(i=>{const S=JSON.parse(i);console.log("grace",S),V.value=S.encryptedData,console.log("encryptedData.value",V.value),localStorage.setItem("encrytedDataPhrase",V.value)}).catch(i=>console.error(i))}async function Z(){await K(ee)}function ee(){try{p.value=!0;const o=localStorage.getItem("gen_wallet_Name")||"";C.getOfficialAddress(o).then(e=>{console.log("hello wetin",e),e.successful?(L.value=e.data,localStorage.setItem("wallet_address",L.value),console.log("userpin....>",m.value),setTimeout(()=>{Q(),p.value=!1},3e3)):(console.log("Error from the get balance"),w.clearAll(),w.show({title:"Address",message:e.message,color:"danger",icon:"user-circle-fill",closable:!0}))}).catch(()=>{console.log("catch error")})}catch(o){console.log(o)}}const O=ge(()=>W.value.join("")==G.value);function te(){const o=b.value.slice(0,12);console.log("inputArray",o);const e=b.value.join(" ");console.log("inputStringed",e),B.value=o.join(" "),console.log("commaSeparatedString",B.value),e.match(/\b\w+\b/g);const c=k.value.slice(0,2);N.value=c.join(" "),console.log("walletname.value",k.value),localStorage.setItem("SeperatedStrings",B.value),console.log("walletteee////",N.value),localStorage.setItem("gen_wallet_Name",N.value),P(2)}async function oe(){var o=localStorage.getItem("SeperatedStrings");console.log("seps",o);var e=new Headers;e.append("Content-Type","application/json"),e.append("Usev2","true");var c=JSON.stringify({message:o});const _=(await he("https://cytonode20240606091952.azurewebsites.net/api/Utilities/Encrypt",{method:"post",headers:e,body:c,redirect:"follow"},"$QVAQrTjlXc")).data.value.data;I.value=_,console.log("Mr real dey here>>>",I.value),console.log("Mr real dey here>>>",m.value),Y(I.value,m.value),console.log("a phrase",I.value)}function P(o){p.value=!0;const e=setTimeout(()=>{p.value=!1,o<1?(s.value=1,localStorage.setItem("importlevel",s.value.toString()),console.log(s.value)):o===2?(s.value=2,localStorage.setItem("importlevel",s.value.toString()),console.log(s.value)):o===3?(s.value=3,localStorage.setItem("importlevel",s.value.toString()),console.log(s.value)):o===4?(s.value=4,localStorage.setItem("importlevel",s.value.toString()),console.log(s.value)):(s.value=o,console.log(s.value),localStorage.setItem("onboardingLevel",s.value.toString())),clearTimeout(e)},1e3)}function ae(){localStorage.removeItem("onboardingLevel"),window.location.href="/onboarding"}return(o,e)=>{const c=le,y=se,U=ne,i=re,S=ce,_=ie,A=ue,j=de,D=me,E=pe;return n(),f("div",ye,[a("div",be,[l(y,{to:"/",class:"text-muted-400 hover:text-primary-500 dark:text-muted-700 dark:hover:text-primary-500 transition-colors duration-300"},{default:r(()=>[l(c,{class:"h-16 w-16 p-4"})]),_:1}),a("div",ke,[l(U)])]),a("form",{action:"",method:"POST",onSubmit:e[6]||(e[6]=T(()=>{},["prevent"])),class:"mx-auto max-w-7xl px-4"},[s.value===1?(n(),f("div",Se,[a("div",Ie,[a("div",je,[l(i,{type:"button",shape:"curved",class:"text-xl h-10 w-20 text-gray-400 hover:text-gray-700 text-center bg-transparent border-0",loading:p.value,onClick:e[0]||(e[0]=u=>ae())},{default:r(()=>[d("Back")]),_:1},8,["loading"]),a("div",Te,[a("div",Ce,[O.value?(n(),v(S,{key:0,size:"sm"})):(n(),v(A,{key:1,color:"primary",size:"lg",shape:"full",class:"mx-auto"},{default:r(()=>[l(_,{name:"ph:lock-duotone",class:"text-primary-500 mx-auto h-8 w-8"})]),_:1}))])]),a("div",Ne,[l(j,{tag:"h2",size:"2xl",weight:"medium",class:"mb-1"},{default:r(()=>[d(" Import Wallet ")]),_:1}),l(D,{class:"text-muted-500 dark:text-muted-400 mb-1"},{default:r(()=>[d(" Enter the secret passphrase you wrote down ")]),_:1})]),a("div",Ve,[a("ul",Be,[(n(!0),f(R,null,H(b.value,(u,h)=>M((n(),f("input",{key:h,"onUpdate:modelValue":$=>b.value[h]=$,class:"dark:bg-muted-800 inline w-[86px] lg:w-32 p-2 rounded text-xs lg:text-sm border border-gray-700"},null,8,Pe)),[[F,b.value[h]]])),128))]),l(j,{tag:"h2",size:"xl",weight:"medium",class:"mb-1"},{default:r(()=>[d(" Generated Wallet Name ")]),_:1}),a("ul",Ue,[(n(!0),f(R,null,H(k.value,(u,h)=>M((n(),f("input",{key:h,"onUpdate:modelValue":$=>k.value[h]=$,class:"dark:bg-muted-800 inline w-[86px] lg:w-32 p-2 rounded text-xs lg:text-sm border border-gray-700"},null,8,Ae)),[[F,k.value[h]]])),128))]),a("div",De,[l(i,{disabled:p.value,loading:p.value,shape:"curved",class:"!h-12",color:O.value?"primary":"default",onClick:e[1]||(e[1]=T(u=>te(),["prevent"]))},{default:r(()=>[d(" Confirm ")]),_:1},8,["disabled","loading","color"])])])])])])):s.value===2?(n(),f("div",$e,[a("div",ze,[a("div",Le,[l(A,{color:"primary",size:"lg",shape:"full",class:"mx-auto"},{default:r(()=>[x.value==="email_address"?(n(),v(_,{key:0,name:"uil:padlock",class:"text-primary-500 mx-auto h-8 w-8"})):x.value==="phone_number"?(n(),v(_,{key:1,name:"ph:device-mobile-speaker-duotone",class:"text-primary-500 mx-auto h-8 w-8"})):x.value==="app_id"?(n(),v(_,{key:2,name:"uil:padlock",class:"text-primary-500 mx-auto h-8 w-8"})):z("",!0)]),_:1})]),a("div",Oe,[l(j,{tag:"h2",size:"3xl",weight:"medium",class:"mb-1"},{default:r(()=>[d(" Enter a Passcode ")]),_:1}),l(D,{class:"text-muted-500 dark:text-muted-400"},{default:r(()=>[d(" Enter the required information to secure your wallet ")]),_:1})]),a("div",Ee,[l(E,{label:"Passcode",modelValue:J(g),"onUpdate:modelValue":e[2]||(e[2]=u=>q(g)?g.value=u:g=u),type:"password",icon:"uil:padlock",shape:"curved",classes:{wrapper:"w-full",input:"!h-12 !ps-12",icon:"!h-12 !w-12"}},null,8,["modelValue"])]),a("div",Re,[l(i,{type:"button",shape:"curved",class:"!h-12 w-48",color:"primary",loading:p.value,onClick:e[3]||(e[3]=T(u=>P(3),["prevent"]))},{default:r(()=>[d("Continue")]),_:1},8,["loading"])])])])):s.value===3?(n(),f("div",He,[a("div",Je,[a("div",qe,[l(A,{color:"primary",size:"lg",shape:"full",class:"mx-auto"},{default:r(()=>[x.value==="email_address"?(n(),v(_,{key:0,name:"uil:padlock",class:"text-primary-500 mx-auto h-8 w-8"})):x.value==="phone_number"?(n(),v(_,{key:1,name:"ph:device-mobile-speaker-duotone",class:"text-primary-500 mx-auto h-8 w-8"})):x.value==="app_id"?(n(),v(_,{key:2,name:"uil:padlock",class:"text-primary-500 mx-auto h-8 w-8"})):z("",!0)]),_:1})]),a("div",Me,[l(j,{tag:"h2",size:"3xl",weight:"medium",class:"mb-1"},{default:r(()=>[d(" Confirm your Passcode ")]),_:1}),l(D,{class:"text-muted-500 dark:text-muted-400"},{default:r(()=>[d(" Enter the required information to secure your wallet ")]),_:1})]),a("div",Fe,[l(E,{label:"Passcode",modelValue:J(m),"onUpdate:modelValue":e[4]||(e[4]=u=>q(m)?m.value=u:m=u),type:"password",icon:"uil:padlock",shape:"curved",classes:{wrapper:"w-full",input:"!h-12 !ps-12",icon:"!h-12 !w-12"}},null,8,["modelValue"])]),a("div",We,[l(i,{type:"button",shape:"curved",class:"!h-12 w-48",color:"primary",loading:p.value,onClick:e[5]||(e[5]=T(u=>X(),["prevent"]))},{default:r(()=>[d("Continue")]),_:1},8,["loading"])])])])):z("",!0)],32)])}}});export{pt as default};
