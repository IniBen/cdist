import{_ as oe}from"./BaseInput.vue.ac862dc4.js";import{_ as ne}from"./BaseButton.2b54a2c4.js";import{_ as re}from"./BasePlaceholderPage.vue.78819617.js";import{_ as ce}from"./BaseHeading.vue.367aa72a.js";import{_ as de}from"./nuxt-link.8273492f.js";import{_ as ie}from"./BaseCard.vue.f4e6894d.js";import{_ as ue}from"./TairoContentWrapper.vue.7173c7af.js";import{d as fe,X as _e,P as me,c as H,r as n,y as pe,o as p,a as w,b as o,w as t,j as y,i as e,e as S,Y as I,F as j,G as O,f as T,t as m}from"./entry.4f1f4e90.js";import{u as ge}from"./toaster.29c7b5e4.js";import{_ as he,a as ve}from"./placeholder-search-6-dark.0bb1521e.js";import{L as ye}from"./index.92423b2e.js";import"./buttons.3ff0afbe.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Icon.cd622b41.js";import"./index.a63dc9f9.js";import"./input-id.477f8fd9.js";const xe={key:0},we=e("img",{class:"block dark:hidden",src:he,alt:"Placeholder image"},null,-1),ke=e("img",{class:"hidden dark:block",src:ve,alt:"Placeholder image"},null,-1),be={key:1},Ne={class:"ltablet:grid-cols-4 grid w-full gap-4 sm:grid-cols-3 lg:grid-cols-4"},Ae={class:"relative"},Se=["src"],Ie={class:"flex items-center justify-between mb-2 mt-3 px-2"},je={class:"bg-muted-500/20 rounded-full text-xs text-muted-500 p-2"},Oe={class:"mt-auto flex items-center gap-2"},Te={class:"leading-none"},$e={class:"text-muted-800 dark:text-muted-100 font-sans text-sm font-medium leading-tight"},Ee=e("span",null,"Send",-1),qe=e("div",{class:"mt-6"},null,-1),Be=e("hr",{class:"border-gray-400 py-2"},null,-1),ze=e("div",null,null,-1),De={class:"ltablet:grid-cols-4 grid w-full gap-4 sm:grid-cols-3 lg:grid-cols-4"},Pe={class:"relative"},Fe=["src"],Le={class:"flex items-center justify-between mb-2 mt-3 px-2"},Ce={class:"bg-muted-500/20 rounded-full text-xs text-muted-500 p-2"},Je={class:"mt-auto flex items-center gap-2"},Ue={class:"leading-none"},Ve={class:"text-muted-800 dark:text-muted-100 font-sans text-sm font-medium leading-tight"},Ge=e("span",null,"Send",-1),We=e("div",{class:"mt-6"},null,-1),He=e("hr",{class:"border-gray-400 py-2"},null,-1),Re=e("div",null,null,-1),Me={class:"ltablet:grid-cols-4 grid w-full gap-4 sm:grid-cols-3 lg:grid-cols-4"},Xe={class:"relative"},Ye=["src"],Ke={class:"flex items-center justify-between mb-2 mt-3 px-2"},Qe={class:"bg-muted-500/20 rounded-full text-xs text-muted-500 p-2"},Ze={class:"mt-auto flex items-center gap-2"},et={class:"leading-none"},tt={class:"text-muted-800 dark:text-muted-100 font-sans text-sm font-medium leading-tight"},st=e("span",null,"Send",-1),at=e("div",{class:"mt-6"},null,-1),lt=e("hr",{class:"border-gray-400 py-2"},null,-1),ot=e("div",null,null,-1),nt={class:"ltablet:grid-cols-4 grid w-full gap-4 sm:grid-cols-3 lg:grid-cols-4"},rt={class:"relative"},ct=["src"],dt={class:"flex items-center justify-between mb-2 mt-3 px-2"},it={class:"bg-muted-500/20 rounded-full text-xs text-muted-500 p-2"},ut={class:"mt-auto flex items-center gap-2"},ft={class:"leading-none"},_t={class:"text-muted-800 dark:text-muted-100 font-sans text-sm font-medium leading-tight"},mt=e("span",null,"Send",-1),Et=fe({__name:"index",setup(pt){const k=new ye,R=_e();me();const b=ge(),M=H(()=>parseInt(R.query.page??"1")),$=n(""),X=n(12);n(""),n([]);var F=n([]),L=n([]),C=n([]);n([]);var J=n([]);n([]);const _=n([]);var Y={},N=n([]),E=n([]),q=n([]);n({}),n([]);var v=n({});H(()=>({filter:$.value,perPage:X.value,page:M.value})),n(""),n("");var A=n([]);const K=n([]),B=n([{propertyid:"",tokens:[{tokenstart:"",tokenend:"",amount:""}]}]);var z=n(!0);async function Q(u){try{const a=localStorage.getItem("gen_wallet_Name");await k.walletDetails(a).then(i=>{i.message.includes("Requested wallet does not exist or is not loaded")?k.loadWallet(a).then(l=>{console.log("this is the response of a loaded wallet ",l.message),u()}):u()}).catch(()=>{console.log("catch error")})}catch(a){console.log(a)}}n([]);const Z=()=>{console.log("unique nwa--->",_.value),setTimeout(()=>{localStorage.getItem("nftData")},3e3),_.value.length===0?U():(z.value=!1,_.value=JSON.parse(nftobject),U(),console.log("This is AllUniqueNFTs",_.value))};function U(){Q(ee),console.log("checked loaded")}async function ee(){const u=localStorage.getItem("gen_wallet_Name");try{k.walletAddresses(u).then(a=>{a.successful?(a.data.forEach(i=>{A.value.push(i.address),console.log("what",A.value)}),A.value.forEach(i=>{te(i)})):console.log("error prone",a.message)})}catch(a){console.log(a)}}const te=async u=>{try{console.log("walletttt",A.value),k.addressNfts(u).then(a=>{a.successful?(B.value=a.data,se()):(b.clearAll(),b.show({title:"Error",message:a.message,color:"danger",icon:"user-circle-fill",closable:!0}))})}catch(a){console.log(a)}};function D(u){const a=[],i=new Set;console.log("the guy here",typeof u);for(const l in u){console.log("the guy key",l);const c=u[l];console.log("the guy obj",c);const s=JSON.stringify(c);i.has(s)||(i.add(s),a.push(c))}return a}const se=async()=>{console.log("hi there again what",B.value),B.value.forEach(async u=>{const a=parseInt(u.propertyid),i=u.tokens;for(const s of i){const f=parseInt(s.tokenstart),h=parseInt(s.tokenend);try{const x=await k.nftDetails(f,h,a);if(x.successful){const r=new Set,d={};var l=n("");x.data.forEach((g,P)=>{if(l=JSON.parse(g.grantdata).name,l in d?d[l]++:d[l]=1,!r.has(l)){r.add(l);const G={},W=`object_${P}`;G[W]=JSON.parse(g.grantdata),v.value[W]=JSON.parse(g.grantdata),K.value.push(G)}}),Y=d;for(const g in v.value)if(Object.hasOwnProperty.call(v.value,g)){const P=v.value[g].name,V=d[P];z.value=!1,_.value.push({nftAmount:V,nft:{name:v.value[g].name,image:v.value[g].image,description:v.value[g].description,attributes:v.value[g].attributes,propertyId:a,tokenStart:f,tokenEnd:h}})}localStorage.setItem("nftData",JSON.stringify(_.value))}else b.clearAll(),b.show({title:"Error",message:x.data.value.message,color:"danger",icon:"user-circle-fill",closable:!0})}catch(x){console.log(x)}}let c=n([]);for(let s=0;s<_.value.length;s++){let f=_.value[s];c.value.push(f.nft.propertyId)}F.value=c.value.filter((s,f,h)=>h.indexOf(s)===f),ae()}),le()},ae=()=>{let u=F.value.map(a=>{var i=new Headers;i.append("Usev2","true");const l={method:"GET",headers:i};return fetch(`https://cytonode20240606091952.azurewebsites.net/api/Explorer/propertyId?propertyId=${a}`,l).then(c=>c.json()).then(c=>{if(c.successful)return c.data}).catch(c=>console.error(c))});Promise.all(u).then(a=>{let i=a.filter(l=>l!==void 0);i&&i.length?i.forEach(l=>{let c;l.category==="SDA21"?(c=_.value.find(s=>(s==null?void 0:s.nft.propertyId)===l.propertyid),N.value.push(c),console.log("wetirin dey",N.value)):l.category==="SDA11"?(c=_.value.find(s=>(s==null?void 0:s.nft.propertyId)===l.propertyid),E.value.push(c),console.log("wetirin dey",E.value)):(c=_.value.find(s=>(s==null?void 0:s.nft.propertyId)===l.propertyid),q.value.push(c),console.log("wetirin dey",q.value))}):console.log("No data available.")})};async function le(){console.log("event1",N.value),setTimeout(()=>{L.value=D(N.value),C.value=D(E.value),J.value=D(q.value)},5e3)}return pe(async()=>{Z()}),(u,a)=>{const i=oe,l=ne,c=re,s=ce,f=de,h=ie,x=ue;return p(),w("div",null,[o(x,null,{left:t(()=>[o(i,{modelValue:$.value,"onUpdate:modelValue":a[0]||(a[0]=r=>$.value=r),icon:"lucide:search",shape:"curved",placeholder:"Search SDA...",classes:{wrapper:"w-full sm:w-auto"}},null,8,["modelValue"])]),right:t(()=>[o(l,{shape:"curved",class:"w-full sm:w-28",to:"/"},{default:t(()=>[y("Dashboard")]),_:1})]),default:t(()=>[e("div",null,[S(z)===!0?(p(),w("div",xe,[o(c,{title:"Wait for a while...",subtitle:"Looks like you do not have any SDA. If you have SDAs then it will be shown here in few time. Till then try other things."},{image:t(()=>[we,ke]),_:1})])):(p(),w("div",be,[e("div",Ne,[o(I,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:t(()=>[(p(!0),w(j,null,O(_.value,(r,d)=>(p(),T(h,{key:d,shape:"curved",class:"group p-3"},{default:t(()=>[o(f,{to:`${"/sda/details/"+d}`},{default:t(()=>[e("div",Ae,[e("img",{src:r.nft.image,class:"h-40 w-full rounded-lg object-cover"},null,8,Se)]),e("div",null,[e("div",Ie,[o(s,{tag:"h3",size:"md",weight:"medium",lead:"snug",class:"line-clamp-2 text-gray-800 dark:text-gray-100"},{default:t(()=>[y(m(r.nft.name),1)]),_:2},1024),e("div",je,[e("p",null,m(r.nftAmount),1)])]),e("div",Oe,[e("div",Te,[e("h4",$e,m(r.nft.description),1)])])])]),_:2},1032,["to"]),o(f,{to:`${"/sda/"+d}`},{default:t(()=>[o(l,{color:"primary",class:"w-full"},{default:t(()=>[Ee]),_:1})]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),qe,o(s,{tag:"h3",size:"md",weight:"medium",class:"text-muted-800 dark:text-muted-100"},{default:t(()=>[y(" Events ")]),_:1}),Be,ze,e("div",De,[o(I,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:t(()=>[(p(!0),w(j,null,O(S(L),(r,d)=>(p(),T(h,{key:d,shape:"curved",class:"group p-3"},{default:t(()=>[o(f,{to:`${"/sda/details/"+d}`},{default:t(()=>[e("div",Pe,[e("img",{src:r.nft.image,class:"h-40 w-full rounded-lg object-cover"},null,8,Fe)]),e("div",null,[e("div",Le,[o(s,{tag:"h3",size:"md",weight:"medium",lead:"snug",class:"line-clamp-2 text-gray-800 dark:text-gray-100"},{default:t(()=>[y(m(r.nft.name),1)]),_:2},1024),e("div",Ce,[e("p",null,m(r.nftAmount),1)])]),e("div",Je,[e("div",Ue,[e("h4",Ve,m(r.nft.description),1)])])])]),_:2},1032,["to"]),o(f,{to:`${"/sda/"+d}`},{default:t(()=>[o(l,{color:"primary",class:"w-full"},{default:t(()=>[Ge]),_:1})]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),We,o(s,{tag:"h3",size:"md",weight:"medium",class:"text-muted-800 dark:text-muted-100"},{default:t(()=>[y(" Arts ")]),_:1}),He,Re,e("div",Me,[o(I,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:t(()=>[(p(!0),w(j,null,O(S(C),(r,d)=>(p(),T(h,{key:d,shape:"curved",class:"group p-3"},{default:t(()=>[o(f,{to:`${"/sda/details/"+d}`},{default:t(()=>[e("div",Xe,[e("img",{src:r.nft.image,class:"h-40 w-full rounded-lg object-cover"},null,8,Ye)]),e("div",null,[e("div",Ke,[o(s,{tag:"h3",size:"md",weight:"medium",lead:"snug",class:"line-clamp-2 text-gray-800 dark:text-gray-100"},{default:t(()=>[y(m(r.nft.name),1)]),_:2},1024),e("div",Qe,[e("p",null,m(r.nftAmount),1)])]),e("div",Ze,[e("div",et,[e("h4",tt,m(r.nft.description),1)])])])]),_:2},1032,["to"]),o(f,{to:`${"/sda/"+d}`},{default:t(()=>[o(l,{color:"primary",class:"w-full"},{default:t(()=>[st]),_:1})]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),at,o(s,{tag:"h3",size:"md",weight:"medium",class:"text-muted-800 dark:text-muted-100"},{default:t(()=>[y(" Others ")]),_:1}),lt,ot,e("div",nt,[o(I,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:t(()=>[(p(!0),w(j,null,O(S(J),(r,d)=>(p(),T(h,{key:d,shape:"curved",class:"group p-3"},{default:t(()=>[o(f,{to:`${"/sda/details/"+d}`},{default:t(()=>[e("div",rt,[e("img",{src:r.nft.image,class:"h-40 w-full rounded-lg object-cover"},null,8,ct)]),e("div",null,[e("div",dt,[o(s,{tag:"h3",size:"md",weight:"medium",lead:"snug",class:"line-clamp-2 text-gray-800 dark:text-gray-100"},{default:t(()=>[y(m(r.nft.name),1)]),_:2},1024),e("div",it,[e("p",null,m(r.nftAmount),1)])]),e("div",ut,[e("div",ft,[e("h4",_t,m(r.nft.description),1)])])])]),_:2},1032,["to"]),o(f,{to:`${"/sda/"+d}`},{default:t(()=>[o(l,{color:"primary",class:"w-full"},{default:t(()=>[mt]),_:1})]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})])]))])]),_:1})])}}});export{Et as default};
