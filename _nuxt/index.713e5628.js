import{_ as oe}from"./BaseInput.vue.c5dbaf29.js";import{_ as ne}from"./BaseButton.8c2a11c7.js";import{_ as re}from"./BasePlaceholderPage.vue.e962b8a3.js";import{_ as ce}from"./BaseHeading.vue.da1486f5.js";import{_ as de}from"./nuxt-link.ce5a3c72.js";import{_ as ie}from"./BaseCard.vue.cf8aff24.js";import{_ as ue}from"./TairoContentWrapper.vue.40615a4d.js";import{d as fe,X as _e,P as me,c as R,r as n,y as pe,o as p,a as w,b as o,w as s,j as y,i as e,e as S,Y as I,F as j,G as O,f as T,t as m}from"./entry.8b56785a.js";import{u as ge}from"./toaster.2e70dc60.js";import{_ as he,a as ve}from"./placeholder-search-6-dark.27e29f79.js";import{L as ye}from"./index.77e43e64.js";import"./buttons.4e3c9cb5.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Icon.863bc465.js";import"./index.9bee2a75.js";import"./input-id.61a77fb2.js";const xe={key:0},we=e("img",{class:"block dark:hidden",src:he,alt:"Placeholder image"},null,-1),ke=e("img",{class:"hidden dark:block",src:ve,alt:"Placeholder image"},null,-1),be={key:1},Ne={class:"ltablet:grid-cols-4 grid w-full gap-4 sm:grid-cols-3 lg:grid-cols-4"},Ae={class:"relative"},Se=["src"],Ie={class:"flex items-center justify-between mb-2 mt-3 px-2"},je={class:"bg-muted-500/20 rounded-full text-xs text-muted-500 p-2"},Oe={class:"mt-auto flex items-center gap-2"},Te={class:"leading-none"},$e={class:"text-muted-800 dark:text-muted-100 font-sans text-sm font-medium leading-tight"},Ee=e("span",null,"Send",-1),qe=e("div",{class:"mt-6"},null,-1),Be=e("hr",{class:"border-gray-400 py-2"},null,-1),ze=e("div",null,null,-1),De={class:"ltablet:grid-cols-4 grid w-full gap-4 sm:grid-cols-3 lg:grid-cols-4"},Pe={class:"relative"},Fe=["src"],Le={class:"flex items-center justify-between mb-2 mt-3 px-2"},Ce={class:"bg-muted-500/20 rounded-full text-xs text-muted-500 p-2"},Je={class:"mt-auto flex items-center gap-2"},Ve={class:"leading-none"},Ge={class:"text-muted-800 dark:text-muted-100 font-sans text-sm font-medium leading-tight"},Ue=e("span",null,"Send",-1),We=e("div",{class:"mt-6"},null,-1),Re=e("hr",{class:"border-gray-400 py-2"},null,-1),He=e("div",null,null,-1),Me={class:"ltablet:grid-cols-4 grid w-full gap-4 sm:grid-cols-3 lg:grid-cols-4"},Xe={class:"relative"},Ye=["src"],Ke={class:"flex items-center justify-between mb-2 mt-3 px-2"},Qe={class:"bg-muted-500/20 rounded-full text-xs text-muted-500 p-2"},Ze={class:"mt-auto flex items-center gap-2"},et={class:"leading-none"},tt={class:"text-muted-800 dark:text-muted-100 font-sans text-sm font-medium leading-tight"},st=e("span",null,"Send",-1),at=e("div",{class:"mt-6"},null,-1),lt=e("hr",{class:"border-gray-400 py-2"},null,-1),ot=e("div",null,null,-1),nt={class:"ltablet:grid-cols-4 grid w-full gap-4 sm:grid-cols-3 lg:grid-cols-4"},rt={class:"relative"},ct=["src"],dt={class:"flex items-center justify-between mb-2 mt-3 px-2"},it={class:"bg-muted-500/20 rounded-full text-xs text-muted-500 p-2"},ut={class:"mt-auto flex items-center gap-2"},ft={class:"leading-none"},_t={class:"text-muted-800 dark:text-muted-100 font-sans text-sm font-medium leading-tight"},mt=e("span",null,"Send",-1),Et=fe({__name:"index",setup(pt){const k=new ye,H=_e();me();const b=ge(),M=R(()=>parseInt(H.query.page??"1")),$=n(""),X=n(12);n(""),n([]);var F=n([]),L=n([]),C=n([]);n([]);var J=n([]);n([]);const _=n([]);var Y={},N=n([]),E=n([]),q=n([]);n({}),n([]);var v=n({});R(()=>({filter:$.value,perPage:X.value,page:M.value})),n(""),n("");var A=n([]);const K=n([]),B=n([{propertyid:"",tokens:[{tokenstart:"",tokenend:"",amount:""}]}]);var z=n(!0);async function Q(i){try{const l=localStorage.getItem("gen_wallet_Name");await k.walletDetails(l).then(d=>{d.message.includes("Requested wallet does not exist or is not loaded")?k.loadWallet(l).then(t=>{console.log("this is the response of a loaded wallet ",t.message),i()}):i()}).catch(()=>{console.log("catch error")})}catch(l){console.log(l)}}n([]);const Z=()=>{console.log("unique nwa--->",_.value),setTimeout(()=>{localStorage.getItem("nftData")},3e3),_.value.length===0?V():(z.value=!1,_.value=JSON.parse(nftobject),V(),console.log("This is AllUniqueNFTs",_.value))};function V(){Q(ee),console.log("checked loaded")}async function ee(){const i=localStorage.getItem("gen_wallet_Name");try{k.walletAddresses(i).then(l=>{l.successful?(l.data.forEach(d=>{A.value.push(d.address),console.log("what",A.value)}),A.value.forEach(d=>{te(d)})):console.log("error prone",l.message)})}catch(l){console.log(l)}}const te=async i=>{try{console.log("walletttt",A.value),k.addressNfts(i).then(l=>{l.successful?(B.value=l.data,se()):(b.clearAll(),b.show({title:"Error",message:l.message,color:"danger",icon:"user-circle-fill",closable:!0}))})}catch(l){console.log(l)}};function D(i){const l=[],d=new Set;console.log("the guy here",typeof i);for(const t in i){console.log("the guy key",t);const u=i[t];console.log("the guy obj",u);const a=JSON.stringify(u);d.has(a)||(d.add(a),l.push(u))}return l}const se=async()=>{console.log("hi there again what",B.value),B.value.forEach(async i=>{const l=parseInt(i.propertyid),d=i.tokens;for(const a of d){const f=parseInt(a.tokenstart),h=parseInt(a.tokenend);try{const x=await k.nftDetails(f,h,l);if(x.successful){const r=new Set,c={};var t=n("");x.data.forEach((g,P)=>{if(t=JSON.parse(g.grantdata).name,t in c?c[t]++:c[t]=1,!r.has(t)){r.add(t);const U={},W=`object_${P}`;U[W]=JSON.parse(g.grantdata),v.value[W]=JSON.parse(g.grantdata),K.value.push(U)}}),Y=c;for(const g in v.value)if(Object.hasOwnProperty.call(v.value,g)){const P=v.value[g].name,G=c[P];z.value=!1,_.value.push({nftAmount:G,nft:{name:v.value[g].name,image:v.value[g].image,description:v.value[g].description,attributes:v.value[g].attributes,propertyId:l,tokenStart:f,tokenEnd:h}})}localStorage.setItem("nftData",JSON.stringify(_.value))}else b.clearAll(),b.show({title:"Error",message:x.data.value.message,color:"danger",icon:"user-circle-fill",closable:!0})}catch(x){console.log(x)}}let u=n([]);for(let a=0;a<_.value.length;a++){let f=_.value[a];u.value.push(f.nft.propertyId)}F.value=u.value.filter((a,f,h)=>h.indexOf(a)===f),ae()}),le()},ae=()=>{let i=F.value.map(l=>{const d={method:"GET"};return fetch(`https://liaas20240129020448.azurewebsites.net/api/Explorer/propertyId?propertyId=${l}`,d).then(t=>t.json()).then(t=>{if(t.successful)return t.data}).catch(t=>console.error(t))});Promise.all(i).then(l=>{let d=l.filter(t=>t!==void 0);d&&d.length?d.forEach(t=>{let u;t.category==="SDA21"?(u=_.value.find(a=>(a==null?void 0:a.nft.propertyId)===t.propertyid),N.value.push(u),console.log("wetirin dey",N.value)):t.category==="SDA11"?(u=_.value.find(a=>(a==null?void 0:a.nft.propertyId)===t.propertyid),E.value.push(u),console.log("wetirin dey",E.value)):(u=_.value.find(a=>(a==null?void 0:a.nft.propertyId)===t.propertyid),q.value.push(u),console.log("wetirin dey",q.value))}):console.log("No data available.")})};async function le(){console.log("event1",N.value),setTimeout(()=>{L.value=D(N.value),C.value=D(E.value),J.value=D(q.value)},5e3)}return pe(async()=>{Z()}),(i,l)=>{const d=oe,t=ne,u=re,a=ce,f=de,h=ie,x=ue;return p(),w("div",null,[o(x,null,{left:s(()=>[o(d,{modelValue:$.value,"onUpdate:modelValue":l[0]||(l[0]=r=>$.value=r),icon:"lucide:search",shape:"curved",placeholder:"Search SDA...",classes:{wrapper:"w-full sm:w-auto"}},null,8,["modelValue"])]),right:s(()=>[o(t,{shape:"curved",class:"w-full sm:w-28",to:"/"},{default:s(()=>[y("Dashboard")]),_:1})]),default:s(()=>[e("div",null,[S(z)===!0?(p(),w("div",xe,[o(u,{title:"Wait for a while...",subtitle:"Looks like you do not have any SDA. If you have SDAs then it will be shown here in few time. Till then try other things."},{image:s(()=>[we,ke]),_:1})])):(p(),w("div",be,[e("div",Ne,[o(I,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:s(()=>[(p(!0),w(j,null,O(_.value,(r,c)=>(p(),T(h,{key:c,shape:"curved",class:"group p-3"},{default:s(()=>[o(f,{to:`${"/sda/details/"+c}`},{default:s(()=>[e("div",Ae,[e("img",{src:r.nft.image,class:"h-40 w-full rounded-lg object-cover"},null,8,Se)]),e("div",null,[e("div",Ie,[o(a,{tag:"h3",size:"md",weight:"medium",lead:"snug",class:"line-clamp-2 text-gray-800 dark:text-gray-100"},{default:s(()=>[y(m(r.nft.name),1)]),_:2},1024),e("div",je,[e("p",null,m(r.nftAmount),1)])]),e("div",Oe,[e("div",Te,[e("h4",$e,m(r.nft.description),1)])])])]),_:2},1032,["to"]),o(f,{to:`${"/sda/"+c}`},{default:s(()=>[o(t,{color:"primary",class:"w-full"},{default:s(()=>[Ee]),_:1})]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),qe,o(a,{tag:"h3",size:"md",weight:"medium",class:"text-muted-800 dark:text-muted-100"},{default:s(()=>[y(" Events ")]),_:1}),Be,ze,e("div",De,[o(I,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:s(()=>[(p(!0),w(j,null,O(S(L),(r,c)=>(p(),T(h,{key:c,shape:"curved",class:"group p-3"},{default:s(()=>[o(f,{to:`${"/sda/details/"+c}`},{default:s(()=>[e("div",Pe,[e("img",{src:r.nft.image,class:"h-40 w-full rounded-lg object-cover"},null,8,Fe)]),e("div",null,[e("div",Le,[o(a,{tag:"h3",size:"md",weight:"medium",lead:"snug",class:"line-clamp-2 text-gray-800 dark:text-gray-100"},{default:s(()=>[y(m(r.nft.name),1)]),_:2},1024),e("div",Ce,[e("p",null,m(r.nftAmount),1)])]),e("div",Je,[e("div",Ve,[e("h4",Ge,m(r.nft.description),1)])])])]),_:2},1032,["to"]),o(f,{to:`${"/sda/"+c}`},{default:s(()=>[o(t,{color:"primary",class:"w-full"},{default:s(()=>[Ue]),_:1})]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),We,o(a,{tag:"h3",size:"md",weight:"medium",class:"text-muted-800 dark:text-muted-100"},{default:s(()=>[y(" Arts ")]),_:1}),Re,He,e("div",Me,[o(I,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:s(()=>[(p(!0),w(j,null,O(S(C),(r,c)=>(p(),T(h,{key:c,shape:"curved",class:"group p-3"},{default:s(()=>[o(f,{to:`${"/sda/details/"+c}`},{default:s(()=>[e("div",Xe,[e("img",{src:r.nft.image,class:"h-40 w-full rounded-lg object-cover"},null,8,Ye)]),e("div",null,[e("div",Ke,[o(a,{tag:"h3",size:"md",weight:"medium",lead:"snug",class:"line-clamp-2 text-gray-800 dark:text-gray-100"},{default:s(()=>[y(m(r.nft.name),1)]),_:2},1024),e("div",Qe,[e("p",null,m(r.nftAmount),1)])]),e("div",Ze,[e("div",et,[e("h4",tt,m(r.nft.description),1)])])])]),_:2},1032,["to"]),o(f,{to:`${"/sda/"+c}`},{default:s(()=>[o(t,{color:"primary",class:"w-full"},{default:s(()=>[st]),_:1})]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),at,o(a,{tag:"h3",size:"md",weight:"medium",class:"text-muted-800 dark:text-muted-100"},{default:s(()=>[y(" Others ")]),_:1}),lt,ot,e("div",nt,[o(I,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:s(()=>[(p(!0),w(j,null,O(S(J),(r,c)=>(p(),T(h,{key:c,shape:"curved",class:"group p-3"},{default:s(()=>[o(f,{to:`${"/sda/details/"+c}`},{default:s(()=>[e("div",rt,[e("img",{src:r.nft.image,class:"h-40 w-full rounded-lg object-cover"},null,8,ct)]),e("div",null,[e("div",dt,[o(a,{tag:"h3",size:"md",weight:"medium",lead:"snug",class:"line-clamp-2 text-gray-800 dark:text-gray-100"},{default:s(()=>[y(m(r.nft.name),1)]),_:2},1024),e("div",it,[e("p",null,m(r.nftAmount),1)])]),e("div",ut,[e("div",ft,[e("h4",_t,m(r.nft.description),1)])])])]),_:2},1032,["to"]),o(f,{to:`${"/sda/"+c}`},{default:s(()=>[o(t,{color:"primary",class:"w-full"},{default:s(()=>[mt]),_:1})]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})])]))])]),_:1})])}}});export{Et as default};
