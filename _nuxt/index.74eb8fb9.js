import{_ as U}from"./BaseInput.vue.7a95f5f0.js";import{_ as W}from"./BaseButton.b65b3f9e.js";import{_ as R}from"./BasePlaceholderPage.vue.d78df766.js";import{_ as z}from"./BaseHeading.vue.0546b939.js";import{_ as H}from"./nuxt-link.a69fd3fe.js";import{_ as M}from"./BaseCard.vue.ba8fa31d.js";import{_ as Y}from"./TairoContentWrapper.vue.66be6425.js";import{d as Z,Y as K,P as Q,c as q,r as l,y as X,o as f,a as k,b as u,w as r,j as E,i as t,e as ee,Z as te,F as ae,G as se,f as oe,t as A}from"./entry.ef9e6931.js";import{u as le}from"./toaster.c670a4e1.js";import{_ as ne,a as re}from"./placeholder-search-6-dark.8ebcaeaa.js";import{L as ce}from"./index.59421564.js";import"./buttons.af509742.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Icon.05b84e45.js";import"./index.6aa89418.js";import"./input-id.f635847a.js";const ie={key:0},ue=t("img",{class:"block dark:hidden",src:ne,alt:"Placeholder image"},null,-1),de=t("img",{class:"hidden dark:block",src:re,alt:"Placeholder image"},null,-1),me={key:1},_e={class:"ltablet:grid-cols-4 grid w-full gap-4 sm:grid-cols-3 lg:grid-cols-4"},fe={class:"relative"},pe=["src"],ge={class:"flex items-center justify-between mb-2 mt-3 px-2"},he={class:"bg-muted-500/20 rounded-full text-xs text-muted-500 p-2"},ve={class:"mt-auto flex items-center gap-2"},we={class:"leading-none"},ye={class:"text-muted-800 dark:text-muted-100 font-sans text-sm font-medium leading-tight"},ke=t("span",null,"Send",-1),xe=t("div",{class:"mt-6"},null,-1),Ve=Z({__name:"index",setup(Ne){const _=new ce,F=K();Q();const p=le(),L=q(()=>parseInt(F.query.page??"1")),x=l(""),O=l(12);q(()=>({filter:x.value,perPage:O.value,page:L.value})),l(""),l("");var g=l([]);const P=l([]),N=l([{propertyid:"",tokens:[{tokenstart:"",tokenend:"",amount:""}]}]),d=l([]);var $={};l({});var i=l({}),b=l(!0);async function C(s){try{const e=localStorage.getItem("gen_wallet_Name");await _.walletDetails(e).then(c=>{c.message.includes("Requested wallet does not exist or is not loaded")?_.loadWallet(e).then(n=>{console.log("this is the response of a loaded wallet ",n.message),s()}):s()}).catch(()=>{console.log("catch error")})}catch(e){console.log(e)}}const D=()=>{console.log("unique nwa--->",d.value);const s=localStorage.getItem("nftData");d.value.length===0?T():(b.value=!1,d.value=JSON.parse(s),T(),console.log("This is AllUniqueNFTs",d.value))};function T(){C(V),console.log("checked loaded")}async function V(){const s=localStorage.getItem("gen_wallet_Name");try{_.walletAddresses(s).then(e=>{e.successful?(e.data.forEach(c=>{g.value.push(c.address),console.log("what",g.value)}),g.value.forEach(c=>{J(c)})):console.log("error prone",e.message)})}catch(e){console.log(e)}}const J=async s=>{try{console.log("walletttt",g.value),_.addressNfts(s).then(e=>{e.successful?(N.value=e.data,G()):(p.clearAll(),p.show({title:"Error",message:e.message,color:"danger",icon:"user-circle-fill",closable:!0}))})}catch(e){console.log(e)}},G=async()=>{console.log("hi there again what",N.value),N.value.forEach(async s=>{const e=parseInt(s.propertyid),c=s.tokens;for(const h of c){const v=parseInt(h.tokenstart),w=parseInt(h.tokenend);try{const m=await _.nftDetails(v,w,e);if(m.successful){const y=new Set,o={};var n=l("");m.data.forEach((a,S)=>{if(n=JSON.parse(a.grantdata).name,n in o?o[n]++:o[n]=1,!y.has(n)){y.add(n);const B={},j=`object_${S}`;B[j]=JSON.parse(a.grantdata),i.value[j]=JSON.parse(a.grantdata),P.value.push(B)}}),$=o;for(const a in i.value)if(Object.hasOwnProperty.call(i.value,a)){const S=i.value[a].name,I=o[S];b.value=!1,d.value.push({nftAmount:I,nft:{name:i.value[a].name,image:i.value[a].image,description:i.value[a].description,attributes:i.value[a].attributes,propertyId:e,tokenStart:v,tokenEnd:w}})}localStorage.setItem("nftData",JSON.stringify(d.value))}else p.clearAll(),p.show({title:"Error",message:m.data.value.message,color:"danger",icon:"user-circle-fill",closable:!0})}catch(m){console.log(m)}}})};return X(async()=>{D()}),(s,e)=>{const c=U,n=W,h=R,v=z,w=H,m=M,y=Y;return f(),k("div",null,[u(y,null,{left:r(()=>[u(c,{modelValue:x.value,"onUpdate:modelValue":e[0]||(e[0]=o=>x.value=o),icon:"lucide:search",shape:"curved",placeholder:"Search SDA...",classes:{wrapper:"w-full sm:w-auto"}},null,8,["modelValue"])]),right:r(()=>[u(n,{shape:"curved",class:"w-full sm:w-28",to:"/"},{default:r(()=>[E("Dashboard")]),_:1})]),default:r(()=>[t("div",null,[ee(b)===!0?(f(),k("div",ie,[u(h,{title:"Wait for a while...",subtitle:"Looks like you do not have any SDA. If you have SDAs then it will be shown here in few time. Till then try other things."},{image:r(()=>[ue,de]),_:1})])):(f(),k("div",me,[t("div",_e,[u(te,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:r(()=>[(f(!0),k(ae,null,se(d.value,(o,a)=>(f(),oe(m,{key:a,shape:"curved",class:"group p-3"},{default:r(()=>[t("div",fe,[t("img",{src:o.nft.image,class:"h-40 w-full rounded-lg object-cover"},null,8,pe)]),t("div",null,[t("div",ge,[u(v,{tag:"h3",size:"md",weight:"medium",lead:"snug",class:"line-clamp-2 text-gray-800 dark:text-gray-100"},{default:r(()=>[E(A(o.nft.name),1)]),_:2},1024),t("div",he,[t("p",null,A(o.nftAmount),1)])]),t("div",ve,[t("div",we,[t("h4",ye,A(o.nft.description),1)])])]),u(w,{to:`${"/sda/"+a}`},{default:r(()=>[u(n,{color:"primary",class:"w-full"},{default:r(()=>[ke]),_:1})]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),xe]))])]),_:1})])}}});export{Ve as default};
