import{_ as J}from"./BaseInput.vue.8442e93d.js";import{_ as G}from"./BaseButton.bd8b5291.js";import{_ as U}from"./BasePlaceholderPage.vue.9d878fb1.js";import{_ as W}from"./BaseHeading.vue.44d4da62.js";import{_ as R}from"./nuxt-link.1220d27b.js";import{_ as z}from"./BaseCard.vue.d06dbf06.js";import{_ as H}from"./TairoContentWrapper.vue.02bf07ea.js";import{d as M,Y,P as Z,c as B,r as l,y as K,o as v,a as x,b as d,w as c,j as q,i as a,e as Q,Z as X,F as ee,G as te,f as ae,t as A}from"./entry.80a6c108.js";import{u as se}from"./toaster.c6beec1b.js";import{_ as oe,a as le}from"./placeholder-search-6-dark.670c2101.js";import{L as ne}from"./index.59421564.js";import"./buttons.461bdd2f.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Icon.bdfa58d4.js";import"./index.00c662f8.js";import"./input-id.3e52058e.js";const re={key:0},ce=a("img",{class:"block dark:hidden",src:oe,alt:"Placeholder image"},null,-1),ie=a("img",{class:"hidden dark:block",src:le,alt:"Placeholder image"},null,-1),ue={key:1},de={class:"ltablet:grid-cols-4 grid w-full gap-4 sm:grid-cols-3 lg:grid-cols-4"},me={class:"relative"},_e=["src"],pe={class:"flex items-center justify-between mb-2 mt-3 px-2"},fe={class:"bg-muted-500/20 rounded-full text-xs text-muted-500 p-2"},ge={class:"mt-auto flex items-center gap-2"},he={class:"leading-none"},ve={class:"text-muted-800 dark:text-muted-100 font-sans text-sm font-medium leading-tight"},ye=a("span",null,"Send",-1),we=a("div",{class:"mt-6"},null,-1),Ce=M({__name:"index",setup(ke){const g=new ne,j=Y();Z();const y=se(),D=B(()=>parseInt(j.query.page??"1")),N=l(""),F=l(12);B(()=>({filter:N.value,perPage:F.value,page:D.value})),l(""),l("");var w=l([]);const L=l([]),m=l([{propertyid:"",tokens:[{tokenstart:"",tokenend:"",amount:""}]}]),_=l([]);var O={};l({});var n=l({}),b=l(!0);async function P(t){try{const e=localStorage.getItem("gen_wallet_Name");await g.walletDetails(e).then(s=>{s.message.includes("Requested wallet does not exist or is not loaded")?g.loadWallet(e).then(i=>{console.log("this is the response of a loaded wallet ",i.message),t()}):t()}).catch(()=>{console.log("catch error")})}catch(e){console.log(e)}}const E=()=>{console.log("unique nwa--->",_.value);const t=localStorage.getItem("nftData");_.value.length===0?S():(b.value=!1,_.value=JSON.parse(t),S(),console.log("This is AllUniqueNFTs",_.value))};function S(){P($),console.log("checked loaded")}async function $(){const t=localStorage.getItem("gen_wallet_Name");try{g.walletAddresses(t).then(e=>{e.successful?(e.data.forEach(s=>{w.value.push(s.address),console.log("what",w.value)}),w.value.forEach(s=>{C(s)})):console.log("error prone",e.message)})}catch(e){console.log(e)}}const C=async t=>{try{console.log("walletttt",w.value),g.addressNfts(t).then(e=>{e.successful?(m.value=e.data,V()):(y.clearAll(),y.show({title:"Error",message:e.message,color:"danger",icon:"user-circle-fill",closable:!0}))})}catch(e){console.log(e)}},V=async()=>{console.log("hi there again what",m.value);for(let t=0;t<m.value.length;t++){const e=parseInt(m.value[t].tokens[t].tokenstart),s=parseInt(m.value[t].tokens[t].tokenend),i=parseInt(m.value[t].propertyid);localStorage.setItem("propertyId",m.value[t].propertyid),console.log("DATA",e,s,i);try{g.nftDetails(e,s,i).then(p=>{if(p.successful){const k=new Set,f={};var u=l("");p.data.forEach((o,r)=>{if(u=JSON.parse(o.grantdata).name,u in f?f[u]++:f[u]=1,!k.has(u)){k.add(u);const T={},I=`object_${r}`,xe=t;T[I]=JSON.parse(o.grantdata),n.value[I]=JSON.parse(o.grantdata),console.log("local uniq",n.value),L.value.push(T)}}),O=f;for(const o in n.value)if(Object.hasOwnProperty.call(n.value,o)){const r=n.value[o].name,h=f[r];b.value=!1,console.log("DATA plus",e,s,i),_.value.push({nftAmount:h,nft:{name:n.value[o].name,image:n.value[o].image,description:n.value[o].description,attributes:n.value[o].attributes,propertyId:i,tokenStart:e,tokenEnd:s}})}localStorage.setItem("nftData",JSON.stringify(_.value)),console.log("threaded",n.value[key].image)}else y.clearAll(),y.show({title:"Error",message:p.data.value.message,color:"danger",icon:"user-circle-fill",closable:!0})})}catch(p){console.log(p)}}};return K(async()=>{E()}),(t,e)=>{const s=J,i=G,p=U,u=W,k=R,f=z,o=H;return v(),x("div",null,[d(o,null,{left:c(()=>[d(s,{modelValue:N.value,"onUpdate:modelValue":e[0]||(e[0]=r=>N.value=r),icon:"lucide:search",shape:"curved",placeholder:"Search SDA...",classes:{wrapper:"w-full sm:w-auto"}},null,8,["modelValue"])]),right:c(()=>[d(i,{shape:"curved",class:"w-full sm:w-28",to:"/"},{default:c(()=>[q("Dashboard")]),_:1})]),default:c(()=>[a("div",null,[Q(b)===!0?(v(),x("div",re,[d(p,{title:"Wait for a while...",subtitle:"Looks like you do not have any SDA. If you have SDAs then it will be shown here in few time. Till then try other things."},{image:c(()=>[ce,ie]),_:1})])):(v(),x("div",ue,[a("div",de,[d(X,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:c(()=>[(v(!0),x(ee,null,te(_.value,(r,h)=>(v(),ae(f,{key:h,shape:"curved",class:"group p-3"},{default:c(()=>[a("div",me,[a("img",{src:r.nft.image,class:"h-40 w-full rounded-lg object-cover"},null,8,_e)]),a("div",null,[a("div",pe,[d(u,{tag:"h3",size:"md",weight:"medium",lead:"snug",class:"line-clamp-2 text-gray-800 dark:text-gray-100"},{default:c(()=>[q(A(r.nft.name),1)]),_:2},1024),a("div",fe,[a("p",null,A(r.nftAmount),1)])]),a("div",ge,[a("div",he,[a("h4",ve,A(r.nft.description),1)])])]),d(k,{to:`${"/sda/"+h}`},{default:c(()=>[d(i,{color:"primary",class:"w-full"},{default:c(()=>[ye]),_:1})]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),we]))])]),_:1})])}}});export{Ce as default};
