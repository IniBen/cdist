import{_ as z}from"./BaseHeading.vue.da1486f5.js";import{_ as Q}from"./BaseParagraph.vue.93f4e84d.js";import{_ as H}from"./BaseInput.vue.c5dbaf29.js";import{_ as $}from"./BaseButton.8c2a11c7.js";import{_ as J}from"./BaseButtonClose.vue.3f197406.js";import{_ as Y}from"./TairoModal.vue.15c085a1.js";import{d as K,r as n,c as G,P as X,y as Z,o as ee,a as te,i as t,Q as S,b as l,w as i,j as g,e as r,H as k}from"./entry.8b56785a.js";import{u as oe}from"./toaster.2e70dc60.js";import{z as b,u as ae,F as T,t as se}from"./vee-validate.esm.71f0b62c.js";import{L as le}from"./index.77e43e64.js";import"./buttons.4e3c9cb5.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./nuxt-link.ce5a3c72.js";import"./Icon.863bc465.js";import"./index.9bee2a75.js";import"./input-id.61a77fb2.js";import"./use-outside-click.febb87cc.js";import"./transition.388b2c8e.js";const ne={class:"bg-muted-100 dark:bg-muted-900 relative min-h-screen w-full overflow-hidden px-4"},re=t("div",{class:"mx-auto flex h-32 w-full max-w-6xl items-center justify-between px-4"},null,-1),ie={class:"flex w-full items-center justify-center"},ce={class:"relative mx-auto w-full max-w-2xl shadow-muted-400 shadow shadow-5xl rounded bg-muted-50 dark:bg-muted-700/70"},de={class:"me-auto ms-auto mt-4 w-full"},me={class:"text-center"},ue={class:"px-8 py-4"},pe={class:"mb-4 space-y-4"},fe={class:"mb-6 flex items-center justify-center"},_e={class:"px-3"},we={class:"flex w-full items-center justify-between p-4 md:p-6"},ve=t("h3",{class:"font-heading text-muted-900 text-lg font-medium leading-6 dark:text-white"}," Enter your Passcode to confirm ",-1),he=t("div",{class:"p-4 md:p-6"},[t("div",{class:"mx-auto w-full max-w-xs text-center"})],-1),ge={class:"p-4 md:p-6"},be={class:"flex gap-x-2"},He=K({__name:"sendtoken",setup(xe){const E=[{id:1,name:"Litecoin",text:"LPsvd8n76fGmHZVYNkM7cj2idAKJQg4KhU",media:"/img/illustrations/tokens/litecoin-ltc-logo.svg",balance:"30.45",publicadd:"02e57cc430dd0ebada066cfa57bac138af2e42406c3d8c77579ac453a683a0f606"},{id:2,name:"Bitcoin",text:"18FEpj7sfYx2aAjL9uwP8VL29VUn8FMPmA",media:"/img/illustrations/tokens/bitocoin-btc.svg",balance:"2",publicadd:"03bf7b204a226c20ea1f06fd30a3bb8fb2cc9d06c5e662f3dc58d4660e543c2b64"},{id:3,name:"Binance USD",text:"bnb15hggjjda3pwdqqd76pnrnpddpaqx98dkapryxt",media:"/img/illustrations/tokens/binance-usd.svg",balance:"5.45"}];function I(o){try{navigator.clipboard.writeText(o)}catch(e){console.error("Unable to copy text: ",e)}}n(E[0]);const V={EMAIL_REQUIRED:"A valid email is required",PASSWORD_REQUIRED:"A password is required"},P=b.object({email:b.string().email(V.EMAIL_REQUIRED),password:b.string().min(1,V.PASSWORD_REQUIRED),trustDevice:b.boolean()}),j=se(P),B=G(()=>({email:"",password:"",trustDevice:!1})),{handleSubmit:R,isSubmitting:U,setFieldError:F,meta:ye,values:Se,errors:ke,resetForm:Ve,setFieldValue:Ae,setErrors:De}=ae({validationSchema:j,initialValues:B});X();const v=n(!1),u=oe();var p=n(),f=n(""),h=n("");n(!1),n("");var x=n(""),y=n(!1),w=n("");function A(){y.value=!1}function M(){y.value=!0}const O=new le;function L(o){u.clearAll(),u.show({title:"Sent! Your Transaction ID has been copied Automatically",message:o,color:"success",icon:"ph:check",closable:!0})}function C(o){u.clearAll(),u.show({title:"Error",message:o,color:"danger",icon:"ph:user",closable:!0})}async function N(o,e){const c=new Headers;c.append("Content-Type","application/json");const d=JSON.stringify({encryptedData:o,key:e});console.log("raw war",d),await fetch("https://cyto-node.azurewebsites.net/encryption/decrypt",{method:"POST",headers:c,body:d}).then(a=>a.text()).then(a=>{const _=JSON.parse(a);return console.log("grace",_),console.log("encryptedData.value",_.decryptedData),x.value=_.decryptedData,_.decryptedData}).catch(a=>console.error(a))}async function q(){v.value=!0;const o=localStorage.getItem("wallet_address"),e=localStorage.getItem("gen_wallet_Name"),c=localStorage.getItem("encrytedDataPhrase"),d=f.value,m=p.value;await N(c,w.value),console.log("ecrypt --->",x.value),console.log("wallet --->",h),console.log("wallet --->",o),console.log("wallet --->",d),console.log("wallet --->",e),console.log("wallet --->",m),O.sendToken(e,x.value,m,h,o,d).then(a=>{a.successful?(v.value=!1,L(a.data),I(a.data),p.value=0,f.value=""):(v.value=!1,C(a.message))})}Z(()=>{h=localStorage.getItem("property_id"),console.log(h)});const D=R(async o=>{console.log("auth-success",o);try{await new Promise((e,c)=>{o.password!=="password"&&setTimeout(()=>c(new Error("Fake backend validation error")),2e3),setTimeout(e,4e3)}),u.clearAll(),u.show({title:"Success",message:"Welcome back!",color:"success",icon:"ph:user-circle-fill",closable:!0})}catch(e){e.message==="Fake backend validation error"&&F("password",'Invalid credentials (use "password")');return}window.location.href="/dashboards"});return(o,e)=>{const c=z,d=Q,m=H,a=$,_=J,W=Y;return ee(),te("div",ne,[re,t("div",ie,[t("div",ce,[t("div",de,[t("form",{method:"POST",action:"",onSubmit:e[5]||(e[5]=S((...s)=>r(D)&&r(D)(...s),["prevent"])),class:"me-auto ms-auto mt-4 w-full max-w-md",novalidate:""},[t("div",me,[l(c,{as:"h2",size:"3xl",weight:"medium"},{default:i(()=>[g(" Send Tokens ")]),_:1}),l(d,{size:"sm",class:"text-muted-400 mb-6"},{default:i(()=>[g(" Enter Token amount you want to send and the reciever's wallet address ")]),_:1})]),t("div",ue,[t("div",pe,[l(r(T),{name:"Amount"},{default:i(()=>[l(m,{modelValue:r(p),"onUpdate:modelValue":e[0]||(e[0]=s=>k(p)?p.value=s:p=s),type:"text",label:"Amount",placeholder:"Amount",classes:{input:"h-12",icon:"flex items-center"},icon:"iconoir:coins"},null,8,["modelValue"])]),_:1}),l(r(T),{name:"WalletAddress"},{default:i(()=>[l(m,{modelValue:r(f),"onUpdate:modelValue":e[1]||(e[1]=s=>k(f)?f.value=s:f=s),type:"text",label:"Wallet Address",placeholder:"Wallet Address",classes:{input:"h-12",icon:"flex items-center"},icon:"solar:copy-bold"},null,8,["modelValue"])]),_:1})]),t("div",fe,[l(a,{onClick:e[2]||(e[2]=S(s=>M(),["prevent"])),disabled:r(U),loading:r(v),type:"submit",color:"primary",class:"!h-12 w-36"},{default:i(()=>[g(" Send ")]),_:1},8,["disabled","loading"])]),l(W,{open:r(y),size:"sm",onClose:A},{header:i(()=>[t("div",_e,[t("div",we,[ve,l(_,{onClick:A})]),l(m,{label:"Passcode",modelValue:r(w),"onUpdate:modelValue":e[3]||(e[3]=s=>k(w)?w.value=s:w=s),type:"password",class:"",icon:"uil:padlock",shape:"curved",classes:{wrapper:"w-full",input:"!h-12 !ps-12",icon:"!h-12 !w-12"}},null,8,["modelValue"])])]),footer:i(()=>[t("div",ge,[t("div",be,[l(a,{color:"primary",flavor:"solid",onClick:e[4]||(e[4]=S(s=>q(),["prevent"]))},{default:i(()=>[g(" Send ")]),_:1})])])]),default:i(()=>[he]),_:1},8,["open"])])],32)])])])])}}});export{He as default};
